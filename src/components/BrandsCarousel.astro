---
// Brand images
import toyotaLogo from '../assets/images/brands/1_toyota.png?url';
import nissanLogo from '../assets/images/brands/2_nissan.png?url';
import hondaLogo from '../assets/images/brands/3_honda.png?url';
import fordLogo from '../assets/images/brands/4_ford.png?url';
import chevroletLogo from '../assets/images/brands/5_chevrolet.png?url';
import hyundaiLogo from '../assets/images/brands/6_hyunadai.png?url';
import kiaLogo from '../assets/images/brands/7_kia.png?url';
import mazdaLogo from '../assets/images/brands/8_mazda.png?url';
import suzukiLogo from '../assets/images/brands/9_suzuki.png?url';
import mitsubishiLogo from '../assets/images/brands/10_mitsubishi.png?url';
import changanLogo from '../assets/images/brands/11_changan.png?url';
import dfksLogo from '../assets/images/brands/12_dfks.png?url';
import geelyLogo from '../assets/images/brands/13_geely.png?url';
import cherryLogo from '../assets/images/brands/14_cherry.png?url';
import greatwallLogo from '../assets/images/brands/15_greatwall.png?url';
import '@fontsource/montserrat/400.css';
import '@fontsource/montserrat/500.css';
import '@fontsource/montserrat/600.css';

export interface Props {
  title?: string;
  backgroundColor?: string;
  textColor?: string;
  className?: string;
}

const {
  title = "Repuestos automotrices para todas las marcas",
  backgroundColor = "bg-white",
  textColor = "text-gray-900",
  className = ""
} = Astro.props;

const brands = [
  { logo: toyotaLogo, alt: "Toyota" },
  { logo: nissanLogo, alt: "Nissan" },
  { logo: hondaLogo, alt: "Honda" },
  { logo: fordLogo, alt: "Ford" },
  { logo: chevroletLogo, alt: "Chevrolet" },
  { logo: hyundaiLogo, alt: "Hyundai" },
  { logo: kiaLogo, alt: "Kia" },
  { logo: mazdaLogo, alt: "Mazda" },
  { logo: suzukiLogo, alt: "Suzuki" },
  { logo: mitsubishiLogo, alt: "Mitsubishi" },
  { logo: changanLogo, alt: "Changan" },
  { logo: dfksLogo, alt: "DFKS" },
  { logo: geelyLogo, alt: "Geely" },
  { logo: cherryLogo, alt: "Cherry" },
  { logo: greatwallLogo, alt: "Great Wall" }
];
---

<section class={`${backgroundColor} ${className} border-t border-gray-100`}>
  <div class="max-w-7xl mx-auto px-6">

    <!-- Header minimalista -->
    <div class="text-center pt-24 pb-12">
      <h3 class={`text-3xl lg:text-4xl ${textColor} mb-4 font-light montserrat`}>Repuestos para todas las marcas</h3>
      <p class="text-gray-500 max-w-2xl mx-auto leading-relaxed montserrat">Trabajamos con las principales marcas automotrices del mercado</p>
    </div>

    <!-- Carousel de marcas moderno -->
    <div class="w-full overflow-hidden relative mb-16">
      <div class="flex animate-scroll-brands hover:pause-animation" style="width: calc(280px * 20);">
        {brands.map((brand, index) => (
          <div class="flex-none w-[280px] h-[160px] flex items-center justify-center p-1 group" key={index}>
            <div class="bg-white transition-all duration-300 hover:shadow-lg rounded-xl p-4 w-full h-full flex items-center justify-center">
              <img
                src={brand.logo}
                alt={brand.alt}
                class="max-w-full max-h-full object-contain transition-all duration-300"
              />
            </div>
          </div>
        ))}
        <!-- Duplicate logos for seamless loop -->
        {brands.map((brand, index) => (
          <div class="flex-none w-[280px] h-[160px] flex items-center justify-center p-1 group" key={index}>
            <div class="bg-white transition-all duration-300 hover:shadow-lg rounded-xl p-4 w-full h-full flex items-center justify-center">
              <img
                src={brand.logo}
                alt={brand.alt}
                class="max-w-full max-h-full object-contain transition-all duration-300"
              />
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- EstadÃ­stica final -->
    <div class="text-center pb-20">
      <div class="inline-flex items-center gap-4 px-8 py-4 bg-gray-50 rounded-full">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-green-500 rounded-full"></div>
          <span class="text-gray-700 font-medium montserrat">200+ marcas</span>
        </div>
        <div class="w-px h-4 bg-gray-300"></div>
        <span class="text-gray-500 text-sm montserrat">Repuestos garantizados</span>
      </div>
    </div>

  </div>
</section>

<style>
  .montserrat {
    font-family: 'Montserrat', sans-serif !important;
  }

  /* Improve image rendering quality */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: optimize-contrast;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;
  }

  /* Smooth transitions for hover effects */
  .group:hover {
    transform: translateY(-2px);
  }

  /* Custom brand carousel animation */
  @keyframes scroll-brands {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(-280px * 15));
    }
  }

  .animate-scroll-brands {
    animation: scroll-brands 30s linear infinite;
  }

  .pause-animation:hover {
    animation-play-state: paused;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .animate-scroll-brands {
      width: calc(140px * 20) !important;
    }

    .flex-none {
      width: 140px !important;
      height: 140px !important;
    }

    .text-3xl.lg\\:text-4xl {
      font-size: 1.875rem;
    }

    .pt-24 {
      padding-top: 3rem;
    }

    .pb-20 {
      padding-bottom: 3rem;
    }

    @keyframes scroll-brands {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(calc(-140px * 15));
      }
    }
  }

  @media (max-width: 480px) {
    .animate-scroll-brands {
      width: calc(110px * 20) !important;
    }

    .flex-none {
      width: 110px !important;
      height: 120px !important;
    }

    .px-8 {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    @keyframes scroll-brands {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(calc(-110px * 15));
      }
    }
  }
</style>