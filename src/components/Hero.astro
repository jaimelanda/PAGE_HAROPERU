---
import heroImage1 from '../assets/images/1.png?url';
import heroImage2 from '../assets/images/2.png?url';
import heroImage3 from '../assets/images/3.png?url';
---

<section class="relative h-screen overflow-hidden z-[999]">
  <div class="relative w-full h-full">
    <!-- Slide 1 -->
    <div class="slide active absolute top-0 left-0 w-full h-full opacity-0 transition-all duration-1200 ease-out flex items-center z-10">
      <div class="absolute top-0 left-0 w-full h-full bg-cover bg-center bg-no-repeat" style={`background-image: url(${heroImage1})`}>
      </div>
      <div class="absolute top-0 left-0 w-full h-full bg-black/50 z-[5]"></div>
      <div class="relative z-10 w-full flex items-center justify-center" style="margin-top: -210px;">
        <div class="text-center max-w-4xl px-5">
          <h1 class="text-white text-5xl lg:text-6xl font-bold leading-tight mb-6 uppercase">Bienvenidos a HARO</h1>
          <p class="text-white text-lg leading-relaxed opacity-95 max-w-2xl mx-auto">Expertos en repuestos de cremalleras hidráulicas. Una década de trayectoria ofreciendo calidad y confianza al mercado peruano.</p>
        </div>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="slide absolute top-0 left-0 w-full h-full opacity-0 transition-all duration-1200 ease-out flex items-center z-10">
      <div class="absolute top-0 left-0 w-full h-full bg-cover bg-center bg-no-repeat" style={`background-image: url(${heroImage2})`}>
      </div>
      <div class="absolute top-0 left-0 w-full h-full bg-black/50 z-[5]"></div>
      <div class="relative z-10 w-full flex items-center justify-center" style="margin-top: -210px;">
        <div class="text-center max-w-4xl px-5">
          <h1 class="text-white text-5xl lg:text-6xl font-bold leading-tight mb-6 uppercase">Servos Hidráulicos</h1>
          <p class="text-white text-lg leading-relaxed opacity-95 max-w-2xl mx-auto">Especialistas en repuestos de servos hidráulicos con más de una década de experiencia. Calidad garantizada para el mercado peruano.</p>
        </div>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="slide absolute top-0 left-0 w-full h-full opacity-0 transition-all duration-1200 ease-out flex items-center z-10">
      <div class="absolute top-0 left-0 w-full h-full bg-cover bg-center bg-no-repeat" style={`background-image: url(${heroImage3})`}>
      </div>
      <div class="absolute top-0 left-0 w-full h-full bg-black/50 z-[5]"></div>
      <div class="relative z-10 w-full flex items-center justify-center" style="margin-top: -210px;">
        <div class="text-center max-w-4xl px-5">
          <h1 class="text-white text-5xl lg:text-6xl font-bold leading-tight mb-6 uppercase">ATENCIÓN PERSONALIZADA</h1>
          <p class="text-white text-lg leading-relaxed opacity-95 max-w-2xl mx-auto">En HARO, cada cliente recibe asesoría especializada y soluciones a medida en repuestos de dirección hidráulica. Calidad y confianza garantizadas.</p>
        </div>
      </div>
    </div>

  <!-- Permanent bottom gradient -->
  <div class="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-black via-black/80 to-transparent z-20"></div>

  <!-- Navigation dots -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-4 z-30">
    <span class="w-3 h-3 rounded-full bg-white/50 cursor-pointer transition-all duration-300 hover:bg-white/80 nav-dot active" onclick="currentSlide(1)"></span>
    <span class="w-3 h-3 rounded-full bg-white/50 cursor-pointer transition-all duration-300 hover:bg-white/80 nav-dot" onclick="currentSlide(2)"></span>
    <span class="w-3 h-3 rounded-full bg-white/50 cursor-pointer transition-all duration-300 hover:bg-white/80 nav-dot" onclick="currentSlide(3)"></span>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  let slideIndex = 0;
  const slides = document.querySelectorAll('.slide');
  const dots = document.querySelectorAll('.nav-dot');

  function showSlide(n) {
    // Remove active class from all slides and dots
    slides.forEach((slide, index) => {
      slide.classList.remove('active');
      slide.style.zIndex = '1'; // Reset z-index
    });
    dots.forEach(dot => dot.classList.remove('active'));
    
    slideIndex = (n + slides.length) % slides.length;
    
    // Add active class to current slide and dot
    slides[slideIndex].classList.add('active');
    slides[slideIndex].style.zIndex = '10'; // Bring active slide to front
    dots[slideIndex].classList.add('active');
  }

  function currentSlide(n) {
    showSlide(n - 1);
  }

  // Initialize first slide
  showSlide(0);

  // Auto slide with smoother timing
  setInterval(() => {
    showSlide(slideIndex + 1);
  }, 6000);

  // Make currentSlide globally available
  window.currentSlide = currentSlide;
});
</script>

<style>
  .slide.active {
    opacity: 1 !important;
  }

  .nav-dot.active {
    background: rgb(220 38 38) !important;
    transform: scale(1.2) !important;
  }

  .relative.h-screen {
    height: 120vh !important;
    margin-top: -108px !important;
    padding-top: 108px !important;
  }

  @media (max-width: 768px) {
    .relative.h-screen {
      height: 120vh !important;
      margin-top: -109px !important;
      padding-top: 109px !important;
    }

    .text-5xl.lg\:text-6xl {
      font-size: 28px !important;
    }

    .text-lg {
      font-size: 16px !important;
    }

    .px-8.py-4 {
      padding: 12px 24px !important;
      font-size: 14px !important;
    }
  }
</style>